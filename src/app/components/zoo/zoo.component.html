<h2 class="text-2xl mt-2 mb-4">Current Environments:</h2>

<button (click)="addEnvironment()">Add Environment</button>
<button (click)="addEnclosure()">Add Enclosure</button>
<button (click)="addAnimal()">Add Animal</button>
<div class="zoo-container">
  <div>
    <mat-tab-group
      [selectedIndex]="selectedEnv.value"
      (selectedIndexChange)="selectedEnv.setValue($event)"
    >
      <mat-tab
        *ngFor="let env of environments.controls; let index = index"
        [label]="env.value.name ?? ''"
      >
        <ng-template mat-tab-label>
          <span class="warning" *ngIf="env.invalid">âš  </span>
          {{ env.value.name }} - {{ env.value.type }}&nbsp;
          <button (click)="editEnvironment(env)">Edit</button>
        </ng-template>
        <app-environment-display [environment]="env"></app-environment-display>
      </mat-tab>
    </mat-tab-group>
  </div>
  <div>
    <router-outlet></router-outlet>
  </div>
</div>

<button mat-raised-button color="warn" (click)="checkSafeZoo()">
  Is my zoo safe?
</button>
<!-- <button mat-raised-button color="primary" (click)="loadSafeZoo()">
  Load Safe Zoo Example
</button> -->
